$section-maximised: 84vw;
$section-minimised: 8vw;

.container.active {
	.section.active {
		width: $section-maximised;

		&:hover {
			.section__overlay {
				opacity: 0.75;
			}
		}
	}
	.section:not(.active),
	.stacked {
		width: $section-minimised;
	}

	.stacked {
		&.active {
			flex-flow: row nowrap;
			width: $section-maximised;

			.section {
				height: 100vh;
				display: inline-block;

				&:first-of-type {
					animation: section-first;
					animation-duration: 0.3s;
					animation-iteration-count: 1;
				}
				&:last-of-type {
					position: absolute;
					animation: section-first;
					animation-duration: 0.3s;
					animation-iteration-count: 1;
					animation: section-last;
					animation-duration: 0.6s;
					animation-iteration-count: 1;
				}

				&.active {
					width: calc(#{$section-maximised - $section-minimised});
				}
			}
		}
		&:not(.active) {
			.section {
				width: 100%;
			}
		}
	}
}

@keyframes section-first {
	0% {
		height: 50%;
	}
	100% {
		height: 100%;
	}
}
@keyframes section-last {
	0% {
		position: relative;
	}
	70% {
		position: absolute;
	}
}